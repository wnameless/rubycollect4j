<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>rubycollect4j by wnameless</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">rubycollect4j</h1>
        <p class="header">Ruby Collections for Java</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/wnameless/rubycollect4j/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/wnameless/rubycollect4j/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/wnameless/rubycollect4j">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/wnameless">wnameless</a></p>


      </header>
      <section>
        <h1>
<a name="rubycollect4j" class="anchor" href="#rubycollect4j"><span class="octicon octicon-link"></span></a>rubycollect4j</h1>

<p>Ruby Collections for Java.</p>

<p>The rubycollect4j implements all methods refer to Ruby Array, Hash, Enumerable, Enumerator and Range.
It also implements parts of Ruby Dir, File and Date methods.</p>

<p>For further information, please visit <a href="http://ruby-doc.org">http://ruby-doc.org</a> website.</p>

<p>For more documentation, please read JavaDoc on <a href="http://rubycollect4j.sf.net">http://rubycollect4j.sf.net</a> website.</p>

<p>Installation with Maven:</p>

<div class="highlight highlight-xml"><pre><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>net.sf.rubycollect4j<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>rubycollect4j<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>1.5.3<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>

<p>Java 8 with rubycollect4j:</p>

<div class="highlight highlight-java"><pre><span class="c1">// Sort the characters by its frequency based on the word 'Mississippi' case-insensitively</span>
<span class="n">RubyArray</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">word</span> <span class="o">=</span> <span class="n">ra</span><span class="o">(</span><span class="s">"Mississippi"</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"(?!^)"</span><span class="o">));</span>

<span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="na">map</span><span class="o">((</span><span class="n">c</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">();</span>
<span class="o">}).</span><span class="na">sortBy</span><span class="o">((</span><span class="n">c</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">word</span><span class="o">.</span><span class="na">count</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
<span class="o">}).</span><span class="na">uniq</span><span class="o">().</span><span class="na">join</span><span class="o">();</span>

<span class="n">p</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
<span class="c1">// Output: "mpis"</span>
</pre></div>

<p>Java 6 with rubycollect4j:</p>

<div class="highlight highlight-java"><pre><span class="c1">// Sort the characters by its frequency based on the word 'Mississippi' case-insensitively</span>
<span class="kd">final</span> <span class="n">RubyArray</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">word</span> <span class="o">=</span> <span class="n">newRubyArray</span><span class="o">(</span><span class="s">"Mississippi"</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"(?!^)"</span><span class="o">));</span>

<span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="k">new</span> <span class="n">TransformBlock</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">yield</span><span class="o">(</span><span class="n">String</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">sortBy</span><span class="o">(</span><span class="k">new</span> <span class="n">TransformBlock</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">yield</span><span class="o">(</span><span class="n">String</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">word</span><span class="o">.</span><span class="na">count</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">uniq</span><span class="o">().</span><span class="na">join</span><span class="o">();</span>

<span class="n">p</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
<span class="c1">// Output: "mpis"</span>
</pre></div>

<p>Please add following lines before running examples:</p>

<div class="highlight highlight-java"><pre><span class="kn">import</span> <span class="nn">static</span> <span class="n">net</span><span class="o">.</span><span class="na">sf</span><span class="o">.</span><span class="na">rubycollect4j</span><span class="o">.</span><span class="na">RubyCollections</span><span class="o">.*;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">net</span><span class="o">.</span><span class="na">sf</span><span class="o">.</span><span class="na">rubycollect4j</span><span class="o">.</span><span class="na">RubyKernel</span><span class="o">.</span><span class="na">p</span><span class="o">;</span>
</pre></div>

<p>Demo ra() &amp; newRubyArray():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">ra</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span> <span class="o">);</span>                <span class="c1">// Output: [1, 2, 3, 4]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">ra</span><span class="o">(</span><span class="n">ra</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">))</span> <span class="o">);</span>                  <span class="c1">// Output: [[1, 2]]</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">p</span><span class="o">(</span> <span class="n">ra</span><span class="o">(</span><span class="n">list</span><span class="o">)</span> <span class="o">);</span>                      <span class="c1">// Output: [1]</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedHashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"a"</span><span class="o">);</span>
<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">"b"</span><span class="o">);</span>
<span class="c1">// Any Iterable or Iterator object can be converted into RubyArray.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">ra</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">values</span><span class="o">)</span> <span class="o">);</span>                <span class="c1">// Output: [a, b]</span>
<span class="c1">// RubyArray is Comparable if the elements are Comparable.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">ra</span><span class="o">(</span><span class="n">ra</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">),</span> <span class="n">ra</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)).</span><span class="na">sort</span><span class="o">()</span> <span class="o">);</span> <span class="c1">// Output: [[1, 2], [3, 4]]</span>
<span class="c1">// RubyArray is also an List.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">ra</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span> <span class="k">instanceof</span> <span class="n">List</span> <span class="o">);</span>   <span class="c1">// Output: true</span>
</pre></div>

<div class="highlight highlight-java"><pre><span class="c1">// By default, ra() is just a wrapper to an existed List.</span>
<span class="c1">// You can make a defensive copy by following codes.</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">RubyArray</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ra</span> <span class="o">=</span> <span class="n">newRubyArray</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</pre></div>

<p>Demo rh(), hp(), Hash() &amp; newRubyHash():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">rh</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="s">"b"</span> <span class="o">,</span><span class="mi">2</span><span class="o">)</span> <span class="o">);</span>               <span class="c1">// Output: {a=1, b=2}</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Long</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Long</span><span class="o">&gt;();</span>
<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"abc"</span><span class="o">,</span> <span class="mi">123L</span><span class="o">);</span>
<span class="c1">// Any Map can be converted into RubyHash.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">hp</span><span class="o">(</span><span class="n">map</span><span class="o">)</span> <span class="o">);</span>                          <span class="c1">// Output: {abc=123}</span>
<span class="c1">// hp() simply creates an Entry and the word 'hp' means hash pair</span>
<span class="n">p</span><span class="o">(</span> <span class="n">Hash</span><span class="o">(</span><span class="n">ra</span><span class="o">(</span><span class="n">hp</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span> <span class="n">hp</span><span class="o">(</span><span class="s">"b"</span> <span class="o">,</span><span class="mi">2</span><span class="o">)))</span> <span class="o">);</span> <span class="c1">// Output: {a=1, b=2}</span>
<span class="n">p</span><span class="o">(</span> <span class="n">Hash</span><span class="o">(</span><span class="n">rh</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="mi">2</span><span class="o">).</span><span class="na">toA</span><span class="o">())</span> <span class="o">);</span>   <span class="c1">// Output: {a=1, b=2}</span>
<span class="c1">// The Entry of RubyHash is Comparable if the type of the key elements is Comparable.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">rh</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">).</span><span class="na">sort</span><span class="o">()</span> <span class="o">);</span>            <span class="c1">// Output: [2=1, 4=3]</span>
<span class="c1">// RubyHash is also a Map.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">rh</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span> <span class="k">instanceof</span> <span class="n">Map</span> <span class="o">);</span>    <span class="c1">// Output: true</span>
</pre></div>

<div class="highlight highlight-java"><pre><span class="c1">// By default, rh() makes a copy of input Map.</span>
<span class="c1">// You can only wrap a LinkedHashMap up by following codes, because the keys of RubyHash need to be ordered.</span>
<span class="n">LinkedHashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedHashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"a"</span><span class="o">);</span>
<span class="n">RubyHash</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">rh</span> <span class="o">=</span> <span class="n">newRubyHash</span><span class="o">(</span><span class="n">map</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
</pre></div>

<p>Demo abstract RubyEnumerable class:</p>

<div class="highlight highlight-java"><pre><span class="c1">// You can simply make your class inherit all the RubyEnumerable methods by extending it.</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">YourIterableClass</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">RubyEnumerable</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="n">iter</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">YourIterableClass</span><span class="o">(</span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="n">iter</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">iter</span> <span class="o">=</span> <span class="n">iter</span><span class="o">;</span> <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">protected</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="nf">getIterable</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">iter</span><span class="o">;</span> <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>Demo newRubyEnumerator():</p>

<div class="highlight highlight-java"><pre><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Long</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedHashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Long</span><span class="o">&gt;()</span> <span class="o">{{</span> <span class="n">put</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="mi">1L</span><span class="o">);</span> <span class="n">put</span><span class="o">(</span><span class="s">"b"</span><span class="o">,</span> <span class="mi">2L</span><span class="o">);</span> <span class="n">put</span><span class="o">(</span><span class="s">"c"</span><span class="o">,</span> <span class="mi">3L</span><span class="o">);</span> <span class="o">}};</span>
<span class="c1">// Any Iterable or Iterator object can be converted into RubyEnumerator.</span>
<span class="n">RubyEnumerator</span><span class="o">&lt;</span><span class="n">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Long</span><span class="o">&gt;&gt;</span> <span class="n">re</span> <span class="o">=</span> <span class="n">newRubyEnumerator</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">entrySet</span><span class="o">());</span>
<span class="n">re</span> <span class="o">=</span> <span class="n">newRubyEnumerator</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">());</span>
<span class="c1">// RubyEnumerator is much like RubyEnumerable, but it is both an Iterator and an Iterable.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">re</span> <span class="k">instanceof</span> <span class="n">Iterator</span> <span class="o">);</span> <span class="c1">// Output: true</span>
<span class="n">p</span><span class="o">(</span> <span class="n">re</span> <span class="k">instanceof</span> <span class="n">Iterable</span> <span class="o">);</span> <span class="c1">// Output: true</span>
<span class="c1">// It can 'peek' and 'rewind'.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">re</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">);</span>              <span class="c1">// Output: a=1</span>
<span class="n">p</span><span class="o">(</span> <span class="n">re</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">);</span>              <span class="c1">// Output: a=1</span>
<span class="n">p</span><span class="o">(</span> <span class="n">re</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">);</span>              <span class="c1">// Output: b=2</span>
<span class="n">p</span><span class="o">(</span> <span class="n">re</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">);</span>              <span class="c1">// Output: c=3</span>
<span class="n">re</span><span class="o">.</span><span class="na">rewind</span><span class="o">();</span>
<span class="n">p</span><span class="o">(</span> <span class="n">re</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">);</span>              <span class="c1">// Output: a=1</span>
</pre></div>

<p>Demo newRubyLazyEnumerator():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">newRubyLazyEnumerator</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)).</span><span class="na">drop</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="k">instanceof</span> <span class="n">RubyLazyEnumerator</span> <span class="o">)</span> <span class="c1">// Output: true</span>
<span class="n">p</span><span class="o">(</span> <span class="n">newRubyLazyEnumerator</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)).</span><span class="na">drop</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">toA</span><span class="o">()</span> <span class="o">)</span>                         <span class="c1">// Output: [2, 3, 4]</span>
<span class="c1">// A RubyLazyEnumerator can also be created by RubyArray#lazy.</span>
<span class="n">p</span><span class="o">(</span> <span class="n">ra</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">).</span><span class="na">lazy</span><span class="o">().</span><span class="na">cycle</span><span class="o">().</span><span class="na">drop</span><span class="o">(</span><span class="mi">6</span><span class="o">).</span><span class="na">first</span><span class="o">()</span> <span class="o">)</span>                                          <span class="c1">// Output: 3</span>
</pre></div>

<p>Demo range():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">range</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">5</span><span class="o">).</span><span class="na">toA</span><span class="o">()</span> <span class="o">);</span>                                   <span class="c1">// Output: [1, 2, 3, 4, 5]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">range</span><span class="o">(</span><span class="s">"Z"</span><span class="o">,</span> <span class="s">"AB"</span><span class="o">).</span><span class="na">toA</span><span class="o">()</span> <span class="o">);</span>                              <span class="c1">// Output: [Z, AA, AB]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">range</span><span class="o">(</span><span class="s">"ZZ-999"</span><span class="o">,</span> <span class="s">"AAA-001"</span><span class="o">).</span><span class="na">toA</span><span class="o">()</span> <span class="o">);</span>                    <span class="c1">// Output: [ZZ-999, AAA-000, AAA-001]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">range</span><span class="o">(</span><span class="mf">1.08</span><span class="o">,</span> <span class="mf">1.1</span><span class="o">).</span><span class="na">toA</span><span class="o">()</span> <span class="o">);</span>                              <span class="c1">// Output: [1.08, 1.09, 1.10]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">range</span><span class="o">(</span><span class="s">"1.08"</span><span class="o">,</span> <span class="s">"1.1"</span><span class="o">).</span><span class="na">toA</span><span class="o">()</span> <span class="o">);</span>                          <span class="c1">// Output: [1.08, 1.09, 1.10]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">range</span><span class="o">(</span><span class="n">date</span><span class="o">(</span><span class="mi">2013</span><span class="o">,</span> <span class="mi">06</span><span class="o">,</span> <span class="mi">30</span><span class="o">),</span> <span class="n">date</span><span class="o">(</span><span class="mi">2013</span><span class="o">,</span> <span class="mi">07</span><span class="o">,</span> <span class="mi">01</span><span class="o">)).</span><span class="na">toA</span><span class="o">()</span> <span class="o">);</span> <span class="c1">// Output: [Sun Jun 30 00:00:00 CST 2013, Mon Jul 01 00:00:00 CST 2013]</span>
</pre></div>

<p>Demo date():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">date</span><span class="o">(</span><span class="mi">2013</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">1</span><span class="o">).</span><span class="na">add</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">days</span><span class="o">()</span> <span class="o">);</span>          <span class="c1">// Output: Thu Jul 11 00:00:00 CST 2013</span>
<span class="n">p</span><span class="o">(</span> <span class="n">date</span><span class="o">(</span><span class="mi">2013</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">21</span><span class="o">).</span><span class="na">minus</span><span class="o">(</span><span class="mi">30</span><span class="o">).</span><span class="na">minutes</span><span class="o">()</span> <span class="o">);</span> <span class="c1">// Output: Mon Jul 01 20:30:00 CST 2013</span>
<span class="n">p</span><span class="o">(</span> <span class="n">date</span><span class="o">(</span><span class="mi">2013</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">16</span><span class="o">,</span> <span class="mi">15</span><span class="o">,</span> <span class="mi">14</span><span class="o">).</span><span class="na">endOfDay</span><span class="o">()</span> <span class="o">);</span>  <span class="c1">// Output: Sun Jul 07 23:59:59 CST 2013</span>
<span class="n">p</span><span class="o">(</span> <span class="n">date</span><span class="o">(</span><span class="mi">2013</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">11</span><span class="o">).</span><span class="na">beginningOfWeek</span><span class="o">()</span> <span class="o">);</span>      <span class="c1">// Output: Sun Jul 07 00:00:00 CST 2013</span>
<span class="n">p</span><span class="o">(</span> <span class="n">RubyDate</span><span class="o">.</span><span class="na">today</span><span class="o">()</span> <span class="o">);</span>                         <span class="c1">// Output: date of today</span>
<span class="n">p</span><span class="o">(</span> <span class="n">RubyDate</span><span class="o">.</span><span class="na">yesterday</span><span class="o">()</span> <span class="o">);</span>                     <span class="c1">// Output: date of yesterday</span>
<span class="n">Calendar</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
<span class="n">c</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
<span class="n">p</span><span class="o">(</span> <span class="n">date</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">getTime</span><span class="o">())</span> <span class="o">);</span>                        <span class="c1">// Output: Thu Jan 01 00:00:00 CST 1970</span>
</pre></div>

<p>Demo qw():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">qw</span><span class="o">(</span><span class="s">"a bc def"</span><span class="o">)</span> <span class="o">);</span> <span class="c1">// Output: [a, bc, def]</span>
</pre></div>

<p>Demo qx():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">qx</span><span class="o">(</span><span class="s">"echo"</span><span class="o">,</span> <span class="s">"hello"</span><span class="o">)</span> <span class="o">);</span> <span class="c1">// Output: hello</span>
</pre></div>

<p>Demo qr():</p>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">qr</span><span class="o">(</span><span class="s">"^\\d+$"</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="s">"123"</span><span class="o">).</span><span class="na">find</span><span class="o">()</span> <span class="o">);</span> <span class="c1">// Output: true</span>
</pre></div>

<p>Demo RubyDir:</p>

<div class="highlight highlight-text"><pre>folder1
       /folder1-1
                 /file1-1-1
                 /file1-1-2
       /folder1-2
                 /file1-2-1
                 /file1-2-2
                 /file1-2-3
       /file1-1
       /file1-2
       /file1-3
       /file1-4
</pre></div>

<div class="highlight highlight-java"><pre><span class="n">p</span><span class="o">(</span> <span class="n">RubyDir</span><span class="o">.</span><span class="na">glob</span><span class="o">(</span><span class="s">"folder1/*"</span><span class="o">).</span><span class="na">sort</span><span class="o">()</span> <span class="o">);</span>                 <span class="c1">// Output: [file1-1, file1-2, file1-3, file1-4, folder1-1, folder1-2]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">RubyDir</span><span class="o">.</span><span class="na">glob</span><span class="o">(</span><span class="n">GLOB_DIR</span> <span class="o">+</span> <span class="s">"**/*1-*-1*"</span><span class="o">).</span><span class="na">sort</span><span class="o">()</span> <span class="o">);</span>     <span class="c1">// Output: [folder1/folder1-1/file1-1-1, folder1/folder1-2/file1-2-1]</span>
<span class="n">p</span><span class="o">(</span> <span class="n">RubyDir</span><span class="o">.</span><span class="na">glob</span><span class="o">(</span><span class="n">GLOB_DIR</span> <span class="o">+</span> <span class="s">"folder1/*[2,3]"</span><span class="o">).</span><span class="na">sort</span><span class="o">()</span> <span class="o">);</span> <span class="c1">// Output: [file1-2, file1-3, folder1-2]</span>
</pre></div>

<p>Demo RubyFile:</p>

<div class="highlight highlight-java"><pre><span class="n">RubyFile</span> <span class="n">rf</span> <span class="o">=</span> <span class="n">RubyFile</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">"test.txt"</span><span class="o">,</span> <span class="s">"r+"</span><span class="o">);</span>
<span class="n">rf</span><span class="o">.</span><span class="na">puts</span><span class="o">(</span><span class="s">"a"</span><span class="o">);</span>
<span class="n">rf</span><span class="o">.</span><span class="na">puts</span><span class="o">(</span><span class="s">"bc"</span><span class="o">);</span>
<span class="n">rf</span><span class="o">.</span><span class="na">puts</span><span class="o">(</span><span class="s">"def"</span><span class="o">);</span>
<span class="n">rf</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">rf</span> <span class="o">=</span> <span class="n">RubyFile</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">"test.txt"</span><span class="o">,</span> <span class="s">"r"</span><span class="o">);</span>
<span class="n">p</span><span class="o">(</span> <span class="n">rf</span><span class="o">.</span><span class="na">eachLine</span><span class="o">().</span><span class="na">toA</span><span class="o">()</span> <span class="o">);</span>                         <span class="c1">// Output: [a, bc, def]</span>
<span class="n">rf</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="c1">// The method foreach() closes the stream automatically.</span>
<span class="n">RubyFile</span><span class="o">.</span><span class="na">foreach</span><span class="o">(</span><span class="s">"test.txt"</span><span class="o">,</span> <span class="k">new</span> <span class="n">Block</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">yield</span><span class="o">(</span><span class="n">String</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="n">item</span> <span class="o">);</span>
  <span class="o">}</span>
<span class="o">});</span>                                               <span class="c1">// Output: abcdef</span>
<span class="n">p</span><span class="o">(</span> <span class="n">RubyFile</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="s">"/home/"</span><span class="o">,</span> <span class="s">"/ruby"</span><span class="o">,</span> <span class="s">"collect"</span><span class="o">)</span> <span class="o">);</span> <span class="c1">// Output: "/home/ruby/collect"</span>
</pre></div>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>